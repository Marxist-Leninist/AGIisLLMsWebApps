<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Field as Superposition of Waves (1D Analogy)</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1, h2 {
            text-align: center;
            color: #0056b3;
        }
        canvas {
            border: 1px solid #999;
            background-color: #fff;
            margin-top: 15px;
            margin-bottom: 15px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }
        .controls {
            background-color: #e9e9e9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
            width: 600px; /* Match canvas width */
            box-sizing: border-box; /* Include padding in width */
        }
        .wave-control {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .wave-control label {
            margin-right: 10px;
            min-width: 120px; /* Align labels */
        }
        .wave-control input[type="range"] {
            flex-grow: 1;
            margin: 0 10px;
        }
        .wave-control span {
            min-width: 40px; /* Align value displays */
            text-align: right;
            font-family: monospace;
        }
        p {
            max-width: 600px;
            text-align: justify;
            background-color: #fff;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        code {
            background-color: #eee;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .legend {
            margin-top: 10px;
            font-size: 0.9em;
        }
        .legend span {
            display: inline-block;
            margin-right: 15px;
        }
        .legend span::before {
            content: '';
            display: inline-block;
            width: 15px;
            height: 3px;
            margin-right: 5px;
            vertical-align: middle;
        }
        .legend .wave1::before { background-color: blue; }
        .legend .wave2::before { background-color: green; }
        .legend .wave3::before { background-color: red; }
        .legend .field::before { background-color: black; height: 4px; }
    </style>
</head>
<body>

    <h1>Field as Superposition of Waves</h1>
    <p>
        This is a simplified <strong>1D analogy</strong> to illustrate how a complex "field" pattern (represented by the thick black line) can be mathematically constructed by adding together simpler wave components (thin colored lines). In physics, fields (like the electromagnetic field) exist in 3D space, and their configurations and dynamics can often be analyzed by decomposing them into waves (like plane waves) using techniques such as Fourier Analysis.
    </p>
    <p>
        Here, the "field value" at any horizontal position (x) is simply the sum of the values of the individual sine waves at that same position. Adjust the sliders to change the <strong>Amplitude</strong> (height) and <strong>Frequency</strong> (how many cycles fit in the space) of the component waves and observe how the resulting field shape changes.
    </p>

    <canvas id="fieldCanvas" width="600" height="300"></canvas>

    <div class="controls">
        <h2>Wave Controls</h2>
        <div class="wave-control">
            <label for="amp1">Wave 1 Amp:</label>
            <input type="range" id="amp1" min="0" max="50" value="30" step="1">
            <span id="amp1-val">30</span>
        </div>
        <div class="wave-control">
            <label for="freq1">Wave 1 Freq:</label>
            <input type="range" id="freq1" min="0.5" max="5" value="1" step="0.1">
            <span id="freq1-val">1.0</span>
        </div>
        <hr>
        <div class="wave-control">
            <label for="amp2">Wave 2 Amp:</label>
            <input type="range" id="amp2" min="0" max="50" value="20" step="1">
            <span id="amp2-val">20</span>
        </div>
        <div class="wave-control">
            <label for="freq2">Wave 2 Freq:</label>
            <input type="range" id="freq2" min="0.5" max="5" value="2.5" step="0.1">
            <span id="freq2-val">2.5</span>
        </div>
        <hr>
        <div class="wave-control">
            <label for="amp3">Wave 3 Amp:</label>
            <input type="range" id="amp3" min="0" max="50" value="15" step="1">
            <span id="amp3-val">15</span>
        </div>
         <div class="wave-control">
            <label for="freq3">Wave 3 Freq:</label>
            <input type="range" id="freq3" min="0.5" max="5" value="4" step="0.1">
            <span id="freq3-val">4.0</span>
        </div>

        <div class="legend">
            <span class="wave1">Wave 1 (Blue)</span>
            <span class="wave2">Wave 2 (Green)</span>
            <span class="wave3">Wave 3 (Red)</span>
            <span class="field">Resulting Field (Black)</span>
        </div>
    </div>

    <p>
        While this shows adding waves to create a field shape, the reverse process (Fourier Transform) takes a complex field shape and determines the necessary amplitudes and frequencies of the sine waves required to reconstruct it. This wave-based view is crucial in many areas of physics, including electromagnetism, quantum mechanics (where particles are excitations of quantum fields), and signal processing.
    </p>

    <script>
        const canvas = document.getElementById('fieldCanvas');
        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;
        const midY = height / 2;

        // Control elements
        const controls = {
            amp1: document.getElementById('amp1'),
            freq1: document.getElementById('freq1'),
            amp2: document.getElementById('amp2'),
            freq2: document.getElementById('freq2'),
            amp3: document.getElementById('amp3'),
            freq3: document.getElementById('freq3'),
        };

        const values = {
            amp1: document.getElementById('amp1-val'),
            freq1: document.getElementById('freq1-val'),
            amp2: document.getElementById('amp2-val'),
            freq2: document.getElementById('freq2-val'),
            amp3: document.getElementById('amp3-val'),
            freq3: document.getElementById('freq3-val'),
        };

        // Wave parameters (will be updated by controls)
        let waves = [
            { amp: 0, freq: 0, color: 'blue', phase: 0 },
            { amp: 0, freq: 0, color: 'green', phase: 0 }, // Add slight phase shifts for visual distinction if needed
            { amp: 0, freq: 0, color: 'red', phase: 0 }
        ];

        function updateWaveParams() {
            waves[0].amp = parseFloat(controls.amp1.value);
            waves[0].freq = parseFloat(controls.freq1.value);
            waves[1].amp = parseFloat(controls.amp2.value);
            waves[1].freq = parseFloat(controls.freq2.value);
            waves[2].amp = parseFloat(controls.amp3.value);
            waves[2].freq = parseFloat(controls.freq3.value);

            // Update displayed values
            values.amp1.textContent = waves[0].amp.toFixed(0);
            values.freq1.textContent = waves[0].freq.toFixed(1);
            values.amp2.textContent = waves[1].amp.toFixed(0);
            values.freq2.textContent = waves[1].freq.toFixed(1);
            values.amp3.textContent = waves[2].amp.toFixed(0);
            values.freq3.textContent = waves[2].freq.toFixed(1);

            drawScene();
        }

        function drawWave(waveParams, lineWidth = 1) {
            ctx.beginPath();
            ctx.lineWidth = lineWidth;
            ctx.strokeStyle = waveParams.color;

            for (let x = 0; x < width; x++) {
                // Map canvas x to a spatial coordinate (e.g., 0 to 2*PI * number of cycles)
                const spatialX = (x / width) * (2 * Math.PI); // Scale x to range 0 to 2*PI

                // Calculate wave value: y = A * sin(k*x + phase)
                // Here k (wave number) is related to frequency
                const y = waveParams.amp * Math.sin(waveParams.freq * spatialX + waveParams.phase);

                if (x === 0) {
                    ctx.moveTo(x, midY - y);
                } else {
                    ctx.lineTo(x, midY - y);
                }
            }
            ctx.stroke();
        }

        function drawField() {
            ctx.beginPath();
            ctx.lineWidth = 3; // Make the resulting field thicker
            ctx.strokeStyle = 'black';

            for (let x = 0; x < width; x++) {
                const spatialX = (x / width) * (2 * Math.PI);
                let totalY = 0;

                // Sum the contributions of all waves
                waves.forEach(wave => {
                    totalY += wave.amp * Math.sin(wave.freq * spatialX + wave.phase);
                });

                if (x === 0) {
                    ctx.moveTo(x, midY - totalY);
                } else {
                    ctx.lineTo(x, midY - totalY);
                }
            }
            ctx.stroke();
        }

        function drawAxes() {
            ctx.beginPath();
            ctx.lineWidth = 0.5;
            ctx.strokeStyle = '#ccc'; // Light grey for axes

            // X-axis (center line)
            ctx.moveTo(0, midY);
            ctx.lineTo(width, midY);

            // Add some Y-axis ticks if desired (optional)
            // ctx.moveTo(width / 2, 0);
            // ctx.lineTo(width / 2, height);

            ctx.stroke();
        }

        function drawScene() {
            // Clear canvas
            ctx.clearRect(0, 0, width, height);

            // Draw axes first (behind everything)
            drawAxes();

            // Draw individual waves
            waves.forEach(wave => {
                drawWave(wave, 1); // Draw component waves with thin lines
            });

            // Draw the resulting superimposed field
            drawField();
        }

        // Add event listeners to controls
        for (const key in controls) {
            controls[key].addEventListener('input', updateWaveParams);
        }

        // Initial setup and draw
        updateWaveParams(); // Call once to initialize parameters from sliders and draw

    </script>

</body>
</html>