<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bouncing Ball Web App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> <!-- Prevent zooming -->
    <style>
        /* Eye-friendly styles */
        body {
            background-color: #333333;
            margin: 0;
            padding: 0;
            overflow: hidden;
            touch-action: manipulation; /* Improves touch performance */
        }
        canvas {
            display: block;
            background-color: #444444;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        // Get the canvas element and set its size
        const canvas = document.getElementById('canvas');
        const context = canvas.getContext('2d');

        let width, height;
        let scaleFactor = window.devicePixelRatio || 1;

        // Resize canvas to fill the window and handle high pixel density screens
        function resizeCanvas() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width * scaleFactor;
            canvas.height = height * scaleFactor;
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            context.setTransform(scaleFactor, 0, 0, scaleFactor, 0, 0); // Reset transformations
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // Ball properties
        const ball = {
            x: width / 2,
            y: height / 2,
            radius: 20,
            color: '#FFDD00', // Golden yellow color
            dx: 4, // Horizontal velocity
            dy: 3  // Vertical velocity
        };

        // Handle touch events to reposition the ball
        canvas.addEventListener('touchstart', function(event) {
            event.preventDefault(); // Prevent scrolling
            const touch = event.touches[0];
            const rect = canvas.getBoundingClientRect();
            const x = (touch.clientX - rect.left) * (canvas.width / rect.width) / scaleFactor;
            const y = (touch.clientY - rect.top) * (canvas.height / rect.height) / scaleFactor;

            ball.x = x;
            ball.y = y;
        });

        // Animation loop with frame rate limiting
        let lastTime = 0;
        const fps = 60; // Desired frames per second
        const frameDuration = 1000 / fps;

        function animate(time) {
            if (time - lastTime >= frameDuration) {
                context.clearRect(0, 0, width, height);

                // Draw the ball
                context.beginPath();
                context.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
                context.fillStyle = ball.color;
                context.fill();
                context.closePath();

                // Move the ball
                ball.x += ball.dx;
                ball.y += ball.dy;

                // Bounce off the left and right walls
                if (ball.x + ball.radius > width || ball.x - ball.radius < 0) {
                    ball.dx = -ball.dx;
                }

                // Bounce off the top and bottom walls
                if (ball.y + ball.radius > height || ball.y - ball.radius < 0) {
                    ball.dy = -ball.dy;
                }

                lastTime = time;
            }

            requestAnimationFrame(animate);
        }

        // Start the animation
        requestAnimationFrame(animate);
    </script>
</body>
</html>
