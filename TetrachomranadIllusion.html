<!DOCTYPE html>
<html>
<head>
    <title>Visual Illusions Collection</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
        }
        .illusion {
            margin: 40px auto;
            width: 80%;
        }
        .illusion h2 {
            margin-bottom: 20px;
        }
        /* Tetrachromacy Test Styles */
        #spectrum {
            display: flex;
            width: 100%;
            height: 50px;
        }
        .color-band {
            flex: 1;
            height: 100%;
        }
        /* Checker Shadow Illusion Styles */
        #checkerboard {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 0 auto;
            background: 
                linear-gradient(45deg, #999 25%, transparent 25%),
                linear-gradient(-45deg, #999 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, #999 75%),
                linear-gradient(-45deg, transparent 75%, #999 75%);
            background-size: 80px 80px;
            background-position: 0 0, 0 40px, 40px -40px, -40px 0px;
        }
        #checkerboard:before {
            content: '';
            position: absolute;
            top: 0;
            left: 160px;
            width: 160px;
            height: 320px;
            background: rgba(0, 0, 0, 0.5);
        }
        /* Hermann Grid Illusion Styles */
        #hermann-grid {
            display: grid;
            grid-template-columns: repeat(6, 50px);
            grid-template-rows: repeat(6, 50px);
            gap: 10px;
            justify-content: center;
        }
        #hermann-grid div {
            width: 50px;
            height: 50px;
            background-color: black;
        }
    </style>
</head>
<body>

<h1>Visual Illusions Collection</h1>

<!-- Tetrachromacy Test -->
<div class="illusion" id="tetrachromacy-test">
    <h2>Tetrachromacy Test</h2>
    <p>Count how many distinct colors you can see in the spectrum below.</p>
    <div id="spectrum"></div>
    <p>How many colors do you see? <input type="number" id="colorCount" min="0" max="40"></p>
    <button onclick="submitTetrachromacy()">Submit</button>
    <p id="tetrachromacy-result"></p>
</div>

<!-- Checker Shadow Illusion -->
<div class="illusion" id="checker-shadow-illusion">
    <h2>Checker Shadow Illusion</h2>
    <p>Squares A and B are the same shade of gray. Can you believe it?</p>
    <div id="checkerboard"></div>
</div>

<!-- Hermann Grid Illusion -->
<div class="illusion" id="hermann-grid-illusion">
    <h2>Hermann Grid Illusion</h2>
    <p>Do you see gray spots at the intersections?</p>
    <div id="hermann-grid">
        <!-- Squares will be generated by JavaScript -->
    </div>
</div>

<script>
    // Tetrachromacy Test Script
    (function() {
        const numBands = 39;
        const spectrum = document.getElementById('spectrum');
        for (let i = 0; i < numBands; i++) {
            const band = document.createElement('div');
            band.className = 'color-band';
            const hue = Math.floor((i / numBands) * 360);
            band.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
            spectrum.appendChild(band);
        }
    })();

    function submitTetrachromacy() {
        const count = document.getElementById('colorCount').value;
        const result = document.getElementById('tetrachromacy-result');
        if (count >= 33 && count <= 39) {
            result.textContent = "You might be a tetrachromat!";
        } else if (count >= 20 && count <= 32) {
            result.textContent = "You have normal color vision.";
        } else {
            result.textContent = "Your input is outside the expected range.";
        }
    }

    // Hermann Grid Illusion Script
    (function() {
        const grid = document.getElementById('hermann-grid');
        for (let i = 0; i < 36; i++) {
            const cell = document.createElement('div');
            grid.appendChild(cell);
        }
    })();
</script>

</body>
</html>
