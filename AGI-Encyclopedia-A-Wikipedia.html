<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AGI Encyclopedia</title>
    <style>
        /* Your CSS styles here */
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
        header, footer { background-color: #3366cc; color: white; text-align: center; padding: 1em; }
        nav { background-color: #f2f2f2; padding: 1em; }
        nav input { width: 80%; padding: 0.5em; }
        #toc { margin: 2em; }
        #content { padding: 2em; }
        article { margin-bottom: 3em; }
    </style>
</head>
<body>

<header>
    <h1>AGI Encyclopedia</h1>
    <p>Your offline collection of knowledge</p>
</header>

<nav>
    <input type="text" id="searchBox" placeholder="Search articles..." onkeyup="searchArticles()">
</nav>

<div id="toc">
    <h2>Table of Contents</h2>
    <ul id="tocList">
        <!-- Table of contents generated by JavaScript -->
    </ul>
</div>

<main id="content">
    <!-- Articles will be inserted here by JavaScript -->
</main>

<footer>
    &copy; <span id="year"></span> AGI Encyclopedia | Content from Wikipedia licensed under CC BY-SA 3.0
</footer>

<script>
    // Set current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Sample articles data
    const articles = [
        {
            title: "Artificial Intelligence",
            content: "Content of the Artificial Intelligence article..."
        },
        {
            title: "Machine Learning",
            content: "Content of the Machine Learning article..."
        },
        // Add more articles here
    ];

    // Function to display articles
    function displayArticles(filteredArticles) {
        const contentDiv = document.getElementById('content');
        contentDiv.innerHTML = '';
        filteredArticles.forEach(article => {
            const articleElem = document.createElement('article');
            articleElem.id = article.title.replace(/\s+/g, '-').toLowerCase();
            articleElem.innerHTML = `<h2>${article.title}</h2><p>${article.content}</p>`;
            contentDiv.appendChild(articleElem);
        });
    }

    // Function to generate TOC
    function generateTOC(articlesList) {
        const tocList = document.getElementById('tocList');
        tocList.innerHTML = '';
        articlesList.forEach(article => {
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            link.href = '#' + article.title.replace(/\s+/g, '-').toLowerCase();
            link.textContent = article.title;
            listItem.appendChild(link);
            tocList.appendChild(listItem);
        });
    }

    // Search function
    function searchArticles() {
        const query = document.getElementById('searchBox').value.toLowerCase();
        const filteredArticles = articles.filter(article => article.title.toLowerCase().includes(query));
        displayArticles(filteredArticles);
        generateTOC(filteredArticles);
    }

    // Initial display
    displayArticles(articles);
    generateTOC(articles);
</script>

</body>
</html>
