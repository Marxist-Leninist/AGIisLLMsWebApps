<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Relay Device Simulation</title>
  <style>
    /* Inline CSS */
    html, body, #cesiumContainer {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    @import url(https://cesium.com/downloads/cesiumjs/releases/1.120/Build/Cesium/Widgets/widgets.css);
  </style>
</head>
<body>
  <div id="cesiumContainer"></div>

  <!-- Include CesiumJS library -->
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.120/Build/Cesium/Cesium.js"></script>

  <script>
    // Initialize the Cesium Viewer in the cesiumContainer element
    const viewer = new Cesium.Viewer('cesiumContainer', {
      terrainProvider: Cesium.createWorldTerrain()
    });

    // Coordinates for the relay device (Point A)
    const relayLatitude = 52.624788;
    const relayLongitude = -1.662570;

    // Coordinates for Point B
    const pointBLatitude = 52.615662;
    const pointBLongitude = -1.650945;

    // Apex points from your data
    const apex1Latitude = 52.614112;
    const apex1Longitude = -1.669773;

    const apex2Latitude = 52.626337;
    const apex2Longitude = -1.643737;

    // Add Relay Device (Point A)
    const relayDevice = viewer.entities.add({
      name: 'Relay Device',
      position: Cesium.Cartesian3.fromDegrees(relayLongitude, relayLatitude, 0),
      box: {
        dimensions: new Cesium.Cartesian3(500.0, 500.0, 1000.0),
        material: Cesium.Color.RED.withAlpha(0.6),
        outline: true,
        outlineColor: Cesium.Color.BLACK
      }
    });

    // Add Point B
    const pointB = viewer.entities.add({
      name: 'Point B',
      position: Cesium.Cartesian3.fromDegrees(pointBLongitude, pointBLatitude, 0),
      point: {
        pixelSize: 10,
        color: Cesium.Color.BLUE
      }
    });

    // Add Apex Point 1
    const apex1 = viewer.entities.add({
      name: 'Apex Point 1',
      position: Cesium.Cartesian3.fromDegrees(apex1Longitude, apex1Latitude, 0),
      point: {
        pixelSize: 10,
        color: Cesium.Color.GREEN
      }
    });

    // Add Apex Point 2
    const apex2 = viewer.entities.add({
      name: 'Apex Point 2',
      position: Cesium.Cartesian3.fromDegrees(apex2Longitude, apex2Latitude, 0),
      point: {
        pixelSize: 10,
        color: Cesium.Color.YELLOW
      }
    });

    // Add Triangle 1
    viewer.entities.add({
      name: 'Triangle 1',
      polyline: {
        positions: Cesium.Cartesian3.fromDegreesArray([
          relayLongitude, relayLatitude,
          pointBLongitude, pointBLatitude,
          apex1Longitude, apex1Latitude,
          relayLongitude, relayLatitude
        ]),
        width: 2,
        material: Cesium.Color.GREEN
      }
    });

    // Add Triangle 2
    viewer.entities.add({
      name: 'Triangle 2',
      polyline: {
        positions: Cesium.Cartesian3.fromDegreesArray([
          relayLongitude, relayLatitude,
          pointBLongitude, pointBLatitude,
          apex2Longitude, apex2Latitude,
          relayLongitude, relayLatitude
        ]),
        width: 2,
        material: Cesium.Color.YELLOW
      }
    });

    // Adjust camera to see all entities
    viewer.zoomTo(viewer.entities);
  </script>
</body>
</html>
